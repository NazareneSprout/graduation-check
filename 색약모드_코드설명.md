# ìƒ‰ì•½ ëª¨ë“œ ì½”ë“œ ìƒì„¸ ì„¤ëª…

> ëª¨ë“  ì½”ë“œ í•œ ì¤„ í•œ ì¤„ì˜ ì˜ë¯¸ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.

---

## ğŸ“‹ ëª©ì°¨

1. [BaseActivity.java - í‘ë°± í•„í„° í•µì‹¬ ì½”ë“œ](#baseactivityjava)
2. [UserProfileFragment.java - ì„¤ì • ë‹¤ì´ì–¼ë¡œê·¸ ì½”ë“œ](#userprofilefragmentjava)
3. [MainActivityNew.java - ìƒì† êµ¬ì¡° ì„¤ëª…](#mainactivitynewjava)
4. [ì½”ë“œ ì‹¤í–‰ íë¦„](#ì½”ë“œ-ì‹¤í–‰-íë¦„)

---

## BaseActivity.java

### ì „ì²´ ì½”ë“œ (ì£¼ì„ í¬í•¨)

ì´ íŒŒì¼ì€ ëª¨ë“  í™”ë©´ì˜ ê¸°ë³¸ì´ ë˜ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ìƒ‰ì•½ ëª¨ë“œì˜ í•µì‹¬ ê¸°ëŠ¥ì´ ì—¬ê¸°ì— êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```java
package sprout.app.sakmvp1;

// ì„¤ì •ê°’ì„ ì €ì¥í•˜ê³  ì½ì–´ì˜¤ê¸° ìœ„í•œ SharedPreferences í´ë˜ìŠ¤
import android.content.SharedPreferences;
// ìƒ‰ìƒ ë³€í™˜ì„ ìœ„í•œ ColorMatrix í´ë˜ìŠ¤ (ìƒ‰ìƒì„ ìˆ˜í•™ì ìœ¼ë¡œ ë³€í™˜)
import android.graphics.ColorMatrix;
// ColorMatrixë¥¼ ì‹¤ì œ í•„í„°ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” í´ë˜ìŠ¤
import android.graphics.ColorMatrixColorFilter;
// ê·¸ë¦¼ì„ ê·¸ë¦´ ë•Œ ì‚¬ìš©í•˜ëŠ” ë¶“ ì—­í• ì„ í•˜ëŠ” Paint í´ë˜ìŠ¤
import android.graphics.Paint;
// Activity ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬í•˜ëŠ” Bundle í´ë˜ìŠ¤
import android.os.Bundle;
// í™”ë©´ì˜ View (ëª¨ë“  í™”ë©´ ìš”ì†Œì˜ ê¸°ë³¸ í´ë˜ìŠ¤)
import android.view.View;

// ì•ˆë“œë¡œì´ë“œì˜ ê¸°ë³¸ Activity í´ë˜ìŠ¤ (ëª¨ë“  í™”ë©´ì˜ ê¸°ë°˜)
import androidx.appcompat.app.AppCompatActivity;

/**
 * ëª¨ë“  Activityì˜ ê¸°ë³¸ í´ë˜ìŠ¤
 * ì ‘ê·¼ì„± ê¸°ëŠ¥(ìƒ‰ì•½ ëª¨ë“œ ë“±)ì„ ì¼ê´„ ì ìš©
 *
 * ì´ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ ëª¨ë“  ActivityëŠ” ìë™ìœ¼ë¡œ ìƒ‰ì•½ ëª¨ë“œë¥¼ ì§€ì›í•©ë‹ˆë‹¤.
 */
public class BaseActivity extends AppCompatActivity {

    /**
     * onCreate: Activityê°€ ìƒì„±ë  ë•Œ ìë™ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ
     * í™”ë©´ì´ ì²˜ìŒ ë§Œë“¤ì–´ì§ˆ ë•Œ ë”± í•œ ë²ˆ ì‹¤í–‰ë©ë‹ˆë‹¤.
     */
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // ë¶€ëª¨ í´ë˜ìŠ¤(AppCompatActivity)ì˜ onCreateë¥¼ ë¨¼ì € ì‹¤í–‰
        // ì´ê²ƒì€ ê¸°ë³¸ì ì¸ í™”ë©´ ì„¤ì •ì„ ì™„ë£Œí•˜ëŠ” ì‘ì—…ì…ë‹ˆë‹¤
        super.onCreate(savedInstanceState);

        // ì ‘ê·¼ì„± ì„¤ì •ì„ í™•ì¸í•˜ê³  ì ìš©í•©ë‹ˆë‹¤
        // ìƒ‰ì•½ ëª¨ë“œê°€ ì¼œì ¸ìˆìœ¼ë©´ í‘ë°± í•„í„°ë¥¼ ì ìš©í•©ë‹ˆë‹¤
        applyAccessibilitySettings();
    }

    /**
     * onResume: Activityê°€ í™”ë©´ì— í‘œì‹œë  ë•Œ ìë™ìœ¼ë¡œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ
     * ë‹¤ë¥¸ í™”ë©´ì— ê°”ë‹¤ê°€ ë‹¤ì‹œ ëŒì•„ì˜¬ ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.
     */
    @Override
    protected void onResume() {
        // ë¶€ëª¨ í´ë˜ìŠ¤ì˜ onResumeì„ ë¨¼ì € ì‹¤í–‰
        super.onResume();

        // ë‹¤ì‹œ í™”ë©´ì— ëŒì•„ì™”ì„ ë•Œë„ ì„¤ì •ì„ ë‹¤ì‹œ í™•ì¸í•˜ê³  ì ìš©í•©ë‹ˆë‹¤
        // í˜¹ì‹œ ë‹¤ë¥¸ í™”ë©´ì—ì„œ ì„¤ì •ì´ ë°”ë€Œì—ˆì„ ìˆ˜ë„ ìˆìœ¼ë‹ˆê¹Œìš”
        applyAccessibilitySettings();
    }

    /**
     * ì ‘ê·¼ì„± ì„¤ì • ì ìš©
     *
     * ì´ ë©”ì„œë“œëŠ” ì €ì¥ëœ ì„¤ì •ì„ í™•ì¸í•´ì„œ
     * ìƒ‰ì•½ ëª¨ë“œê°€ ì¼œì ¸ìˆìœ¼ë©´ í‘ë°± í•„í„°ë¥¼ ì ìš©í•˜ê³ ,
     * êº¼ì ¸ìˆìœ¼ë©´ í•„í„°ë¥¼ ì œê±°í•©ë‹ˆë‹¤.
     */
    private void applyAccessibilitySettings() {
        // SharedPreferences: ì•±ì˜ ì„¤ì •ì„ ì €ì¥í•˜ëŠ” ì €ì¥ì†Œ
        // "accessibility_prefs"ë¼ëŠ” ì´ë¦„ì˜ ì €ì¥ì†Œë¥¼ ì—½ë‹ˆë‹¤
        // MODE_PRIVATE: ì´ ì•±ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •
        SharedPreferences prefs = getSharedPreferences("accessibility_prefs", MODE_PRIVATE);

        // ì €ì¥ì†Œì—ì„œ "color_blind_mode"ë¼ëŠ” ì´ë¦„ì˜ ì„¤ì •ì„ ì½ì–´ì˜µë‹ˆë‹¤
        // ë§Œì•½ ì„¤ì •ì´ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ falseë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤
        // true = ìƒ‰ì•½ ëª¨ë“œ ì¼œì§, false = ìƒ‰ì•½ ëª¨ë“œ êº¼ì§
        boolean colorBlindMode = prefs.getBoolean("color_blind_mode", false);

        // ìƒ‰ì•½ ëª¨ë“œê°€ ì¼œì ¸ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤
        if (colorBlindMode) {
            // ì¼œì ¸ìˆìœ¼ë©´: í‘ë°± í•„í„°ë¥¼ ì ìš©í•©ë‹ˆë‹¤
            applyGrayscaleFilter();
        } else {
            // êº¼ì ¸ìˆìœ¼ë©´: í‘ë°± í•„í„°ë¥¼ ì œê±°í•©ë‹ˆë‹¤ (ì›ë˜ ìƒ‰ìƒìœ¼ë¡œ ë³µì›)
            removeGrayscaleFilter();
        }
    }

    /**
     * í‘ë°± í•„í„° ì ìš©
     *
     * ColorMatrixë¥¼ ì‚¬ìš©í•´ì„œ í™”ë©´ì˜ ëª¨ë“  ìƒ‰ìƒì„ íšŒìƒ‰ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
     * ì±„ë„(saturation)ë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ìƒ‰ì„ ì œê±°í•˜ëŠ” ì›ë¦¬ì…ë‹ˆë‹¤.
     */
    private void applyGrayscaleFilter() {
        // 1ë‹¨ê³„: ColorMatrix ìƒì„±
        // ColorMatrixëŠ” ìƒ‰ìƒì„ ìˆ˜í•™ì ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤
        // ë¹¨ê°•(R), ì´ˆë¡(G), íŒŒë‘(B) ê°’ì„ ì¡°ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
        ColorMatrix colorMatrix = new ColorMatrix();

        // 2ë‹¨ê³„: ì±„ë„ë¥¼ 0ìœ¼ë¡œ ì„¤ì •
        // setSaturation(0): ëª¨ë“  ìƒ‰ì˜ ì±„ë„ë¥¼ 0ìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤
        // ì±„ë„ = ìƒ‰ì˜ ì„ ëª…í•¨, ì§„í•¨
        // ì±„ë„ 0 = ìƒ‰ì´ ì—†ìŒ = íšŒìƒ‰
        //
        // ì˜ˆì‹œ:
        // - ë¹¨ê°•(R=255, G=0, B=0) â†’ íšŒìƒ‰(R=85, G=85, B=85)
        // - íŒŒë‘(R=0, G=0, B=255) â†’ íšŒìƒ‰(R=85, G=85, B=85)
        // - ë…¸ë‘(R=255, G=255, B=0) â†’ ë°ì€ íšŒìƒ‰(R=170, G=170, B=170)
        colorMatrix.setSaturation(0);

        // 3ë‹¨ê³„: ColorMatrixë¥¼ ì‹¤ì œ í•„í„°ë¡œ ë³€í™˜
        // ColorMatrixColorFilter: ColorMatrixë¥¼ í™”ë©´ì— ì ìš© ê°€ëŠ¥í•œ í•„í„°ë¡œ ë§Œë“­ë‹ˆë‹¤
        ColorMatrixColorFilter filter = new ColorMatrixColorFilter(colorMatrix);

        // 4ë‹¨ê³„: Paint ê°ì²´ ìƒì„±
        // PaintëŠ” í™”ë©´ì— ê·¸ë¦¼ì„ ê·¸ë¦´ ë•Œ ì‚¬ìš©í•˜ëŠ” "ë¶“"ì…ë‹ˆë‹¤
        // ì´ ë¶“ì— í•„í„°ë¥¼ ì„¤ì •í•˜ë©´ ê·¸ë ¤ì§€ëŠ” ëª¨ë“  ê²ƒì— í•„í„°ê°€ ì ìš©ë©ë‹ˆë‹¤
        Paint paint = new Paint();

        // 5ë‹¨ê³„: Paintì— í•„í„° ì ìš©
        // setColorFilter: ì´ ë¶“ìœ¼ë¡œ ê·¸ë¦´ ë•Œ ìƒ‰ìƒì„ ì–´ë–»ê²Œ ë³€í™˜í• ì§€ ì„¤ì •í•©ë‹ˆë‹¤
        paint.setColorFilter(filter);

        // 6ë‹¨ê³„: í™”ë©´ì˜ ìµœìƒìœ„ View ê°€ì ¸ì˜¤ê¸°
        // getWindow(): í˜„ì¬ Activityì˜ Window ê°ì²´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤
        // getDecorView(): Windowì˜ ìµœìƒìœ„ Viewë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤
        //
        // DecorViewë€?
        // - í™”ë©´ì˜ ëª¨ë“  ë‚´ìš©ì„ ë‹´ëŠ” ìµœìƒìœ„ ì»¨í…Œì´ë„ˆì…ë‹ˆë‹¤
        // - ìƒíƒœë°”, íˆ´ë°”, ë‚´ìš©, ë²„íŠ¼ ë“± ëª¨ë“  ê²ƒì´ ì´ ì•ˆì— ë“¤ì–´ìˆìŠµë‹ˆë‹¤
        // - ì—¬ê¸°ì— í•„í„°ë¥¼ ì ìš©í•˜ë©´ í™”ë©´ ì „ì²´ê°€ ì˜í–¥ì„ ë°›ìŠµë‹ˆë‹¤
        View decorView = getWindow().getDecorView();

        // 7ë‹¨ê³„: DecorViewì— í•„í„° ì ìš©
        // setLayerType: Viewë¥¼ ê·¸ë¦¬ëŠ” ë°©ì‹ì„ ì„¤ì •í•©ë‹ˆë‹¤
        //
        // LAYER_TYPE_HARDWARE: GPU(ê·¸ë˜í”½ ì¹´ë“œ)ë¥¼ ì‚¬ìš©í•´ì„œ ê·¸ë¦½ë‹ˆë‹¤
        // - ì¥ì : ë¹ ë¥´ê³  ë¶€ë“œëŸ¬ìš´ í™”ë©´ í‘œì‹œ
        // - ì¥ì : ë³µì¡í•œ íš¨ê³¼(í•„í„°)ë¥¼ ì ìš©í•  ë•Œ íš¨ìœ¨ì 
        // - ì¥ì : ë°°í„°ë¦¬ íš¨ìœ¨ì 
        //
        // paint: ìœ„ì—ì„œ ë§Œë“  í•„í„°ê°€ ì ìš©ëœ ë¶“
        //
        // ê²°ê³¼: í™”ë©´ ì „ì²´ê°€ ì´ í•„í„°ë¥¼ ê±°ì³ì„œ ê·¸ë ¤ì§‘ë‹ˆë‹¤
        //       â†’ ëª¨ë“  ìƒ‰ìƒì´ íšŒìƒ‰ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤!
        decorView.setLayerType(View.LAYER_TYPE_HARDWARE, paint);
    }

    /**
     * í‘ë°± í•„í„° ì œê±°
     *
     * ìƒ‰ì•½ ëª¨ë“œë¥¼ ë„ë©´ ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë©ë‹ˆë‹¤.
     * í™”ë©´ì„ ì›ë˜ ìƒ‰ìƒìœ¼ë¡œ ë³µì›í•©ë‹ˆë‹¤.
     */
    private void removeGrayscaleFilter() {
        // 1ë‹¨ê³„: í™”ë©´ì˜ ìµœìƒìœ„ View ê°€ì ¸ì˜¤ê¸°
        View decorView = getWindow().getDecorView();

        // 2ë‹¨ê³„: ë ˆì´ì–´ íƒ€ì…ì„ NONEìœ¼ë¡œ ì„¤ì •
        // LAYER_TYPE_NONE: íŠ¹ë³„í•œ íš¨ê³¼ ì—†ì´ ê¸°ë³¸ ë°©ì‹ìœ¼ë¡œ ê·¸ë¦½ë‹ˆë‹¤
        // null: í•„í„°ë¥¼ ì ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ (Paint ì—†ìŒ)
        //
        // ê²°ê³¼: ì›ë˜ ìƒ‰ìƒìœ¼ë¡œ í™”ë©´ì´ í‘œì‹œë©ë‹ˆë‹¤!
        decorView.setLayerType(View.LAYER_TYPE_NONE, null);
    }
}
```

### í•µì‹¬ ê°œë… ì„¤ëª…

#### 1. ColorMatrixì™€ Saturation

**ColorMatrixë€?**
- ìƒ‰ìƒì„ ìˆ˜í•™ì ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” 5x4 í–‰ë ¬ì…ë‹ˆë‹¤
- RGB(ë¹¨ê°•, ì´ˆë¡, íŒŒë‘) ê°’ì„ ì¡°ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

**Saturation(ì±„ë„)ë€?**
- ìƒ‰ì˜ "ì„ ëª…ë„" ë˜ëŠ” "ì§„í•¨"ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤
- 0 = ë¬´ì±„ìƒ‰(íšŒìƒ‰), 1 = ì›ë˜ ìƒ‰ìƒ, 2 = ê³¼í¬í™”

**ì™œ setSaturation(0)ì„ ì‚¬ìš©í•˜ë‚˜ìš”?**
```
ì›ë¦¬:
1. ëª¨ë“  ìƒ‰ìƒì€ RGB ì„¸ ê°€ì§€ ê°’ì˜ ì¡°í•©ì…ë‹ˆë‹¤
2. ì±„ë„ë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ë©´ RGB ê°’ì˜ í‰ê· ì„ ëƒ…ë‹ˆë‹¤
3. R=G=Bê°€ ë˜ë©´ â†’ íšŒìƒ‰ì´ ë©ë‹ˆë‹¤

ì˜ˆì‹œ:
ë¹¨ê°•: R=255, G=0, B=0
â†’ í‰ê· : (255+0+0)/3 = 85
â†’ ê²°ê³¼: R=85, G=85, B=85 (ì–´ë‘ìš´ íšŒìƒ‰)

ë…¸ë‘: R=255, G=255, B=0
â†’ í‰ê· : (255+255+0)/3 = 170
â†’ ê²°ê³¼: R=170, G=170, B=170 (ë°ì€ íšŒìƒ‰)
```

#### 2. DecorView

**DecorViewì˜ êµ¬ì¡°:**
```
Activity
â””â”€â”€ Window (ì°½)
    â””â”€â”€ DecorView (ìµœìƒìœ„ View)
        â”œâ”€â”€ Status Bar (ìƒíƒœë°”)
        â”œâ”€â”€ Title Bar (ì œëª©ë°”)
        â””â”€â”€ Content View (ë‚´ìš©)
            â”œâ”€â”€ Toolbar
            â”œâ”€â”€ RecyclerView
            â”œâ”€â”€ Button
            â””â”€â”€ TextView
```

**ì™œ DecorViewì— í•„í„°ë¥¼ ì ìš©í•˜ë‚˜ìš”?**
- ìµœìƒìœ„ì— í•„í„°ë¥¼ ì”Œìš°ë©´ ì•„ë˜ ëª¨ë“  ê²ƒì´ ìë™ìœ¼ë¡œ ì˜í–¥ì„ ë°›ìŠµë‹ˆë‹¤
- ê° ìš”ì†Œë§ˆë‹¤ ì¼ì¼ì´ ìƒ‰ìƒì„ ë°”ê¿€ í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤
- ìƒˆë¡œìš´ í™”ë©´ì´ ì¶”ê°€ë˜ì–´ë„ ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤

#### 3. LAYER_TYPE_HARDWARE

**ë ˆì´ì–´ íƒ€ì… ì¢…ë¥˜:**
- **LAYER_TYPE_NONE**: ê¸°ë³¸ ë°©ì‹ (CPU ì‚¬ìš©)
- **LAYER_TYPE_SOFTWARE**: ì†Œí”„íŠ¸ì›¨ì–´ ë Œë”ë§ (CPU ì‚¬ìš©, ëŠë¦¼)
- **LAYER_TYPE_HARDWARE**: í•˜ë“œì›¨ì–´ ê°€ì† (GPU ì‚¬ìš©, ë¹ ë¦„)

**LAYER_TYPE_HARDWAREì˜ ì¥ì :**
```
GPU ì‚¬ìš©:
- ë¹ ë¥¸ ë Œë”ë§
- ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
- ë³µì¡í•œ íš¨ê³¼ì— ì í•©

ë°°í„°ë¦¬:
- GPUëŠ” ì´ëŸ° ì‘ì—…ì— ìµœì í™”ë˜ì–´ ìˆìŒ
- CPUë³´ë‹¤ íš¨ìœ¨ì 

í™”ì§ˆ:
- ê³ í’ˆì§ˆ ë Œë”ë§
```

---

## UserProfileFragment.java

### ì„¤ì • ë‹¤ì´ì–¼ë¡œê·¸ ì½”ë“œ (ì£¼ì„ í¬í•¨)

ì´ ì½”ë“œëŠ” ì‚¬ìš©ìê°€ ìƒ‰ì•½ ëª¨ë“œë¥¼ ì¼œê³  ëŒ ìˆ˜ ìˆëŠ” ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

```java
/**
 * ì ‘ê·¼ì„± ì˜µì…˜ ì„ íƒ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ
 */
private void showAccessibilityOptionsDialog() {
    // 1ë‹¨ê³„: ì˜µì…˜ ëª©ë¡ ì •ì˜
    final String[] options = {
        "ìƒ‰ì•½ ì „ìš© ëª¨ë“œ",  // ì¸ë±ìŠ¤ 0
        "ì„ íƒ2",          // ì¸ë±ìŠ¤ 1
        "ì„ íƒ3",          // ì¸ë±ìŠ¤ 2
        "ì„ íƒ4",          // ì¸ë±ìŠ¤ 3
        "ì„ íƒ5"           // ì¸ë±ìŠ¤ 4
    };

    // 2ë‹¨ê³„: ì„¤ì • ì €ì¥ì†Œ ì—´ê¸°
    android.content.SharedPreferences prefs =
        requireContext().getSharedPreferences("accessibility_prefs",
                                             android.content.Context.MODE_PRIVATE);

    // 3ë‹¨ê³„: í˜„ì¬ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
    final boolean[] selectedOptions = new boolean[5];
    selectedOptions[0] = prefs.getBoolean("color_blind_mode", false);
    selectedOptions[1] = prefs.getBoolean("option_2", false);
    selectedOptions[2] = prefs.getBoolean("option_3", false);
    selectedOptions[3] = prefs.getBoolean("option_4", false);
    selectedOptions[4] = prefs.getBoolean("option_5", false);

    // 4ë‹¨ê³„: ë‹¤ì´ì–¼ë¡œê·¸ ìƒì„±
    new AlertDialog.Builder(requireContext())
        .setTitle("ì¥ì• í•™ìƒ ë°°ë ¤ ëª¨ë“œ")
        .setMultiChoiceItems(options, selectedOptions, (dialog, which, isChecked) -> {
            selectedOptions[which] = isChecked;
        })
        .setPositiveButton("ì ìš©", (dialog, which) -> {
            // 5ë‹¨ê³„: ì„¤ì • ì €ì¥
            android.content.SharedPreferences.Editor editor = prefs.edit();
            editor.putBoolean("color_blind_mode", selectedOptions[0]);
            editor.putBoolean("option_2", selectedOptions[1]);
            editor.putBoolean("option_3", selectedOptions[2]);
            editor.putBoolean("option_4", selectedOptions[3]);
            editor.putBoolean("option_5", selectedOptions[4]);
            editor.apply();

            // 6ë‹¨ê³„: ì•± ì¬ì‹œì‘
            restartApp();
        })
        .setNegativeButton("ì·¨ì†Œ", null)
        .show();
}

/**
 * ì•± ì¬ì‹œì‘
 */
private void restartApp() {
    // Intent ìƒì„±
    Intent intent = new Intent(requireContext(), MainActivityNew.class);

    // í”Œë˜ê·¸ ì„¤ì • (ì™„ì „íˆ ìƒˆë¡œ ì‹œì‘)
    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);

    // ì‹¤í–‰
    startActivity(intent);
    requireActivity().finish();
    Runtime.getRuntime().exit(0);
}
```

### ì£¼ìš” ë©”ì„œë“œ ì„¤ëª…

#### SharedPreferences ì‚¬ìš©ë²•

```java
// 1. ì €ì¥ì†Œ ì—´ê¸°
SharedPreferences prefs = getSharedPreferences("ì´ë¦„", MODE_PRIVATE);

// 2. ê°’ ì½ê¸°
boolean value = prefs.getBoolean("í‚¤", ê¸°ë³¸ê°’);
String text = prefs.getString("í‚¤", ê¸°ë³¸ê°’);
int number = prefs.getInt("í‚¤", ê¸°ë³¸ê°’);

// 3. ê°’ ì“°ê¸°
SharedPreferences.Editor editor = prefs.edit();
editor.putBoolean("í‚¤", true);
editor.putString("í‚¤", "ê°’");
editor.putInt("í‚¤", 123);
editor.apply();  // ì €ì¥ (ë¹„ë™ê¸°)
// ë˜ëŠ”
editor.commit(); // ì €ì¥ (ë™ê¸°, ì¦‰ì‹œ)
```

#### AlertDialog ì‚¬ìš©ë²•

```java
new AlertDialog.Builder(context)
    .setTitle("ì œëª©")                    // ë‹¤ì´ì–¼ë¡œê·¸ ì œëª©
    .setMessage("ë©”ì‹œì§€")                // ì„¤ëª… ë©”ì‹œì§€
    .setPositiveButton("í™•ì¸", listener) // ê¸ì • ë²„íŠ¼
    .setNegativeButton("ì·¨ì†Œ", listener) // ë¶€ì • ë²„íŠ¼
    .show();                            // í‘œì‹œ
```

#### Intent í”Œë˜ê·¸ ì„¤ëª…

```java
// FLAG_ACTIVITY_NEW_TASK
// - ìƒˆë¡œìš´ ì‘ì—…(Task)ìœ¼ë¡œ Activity ì‹œì‘
// - ë…ë¦½ì ì¸ í™”ë©´ ìŠ¤íƒ ìƒì„±

// FLAG_ACTIVITY_CLEAR_TASK
// - ê¸°ì¡´ Taskì˜ ëª¨ë“  Activity ì œê±°
// - ì™„ì „íˆ ìƒˆë¡œ ì‹œì‘

// ë‘ í”Œë˜ê·¸ í•¨ê»˜ ì‚¬ìš©:
// â†’ ì•±ì„ ì™„ì „íˆ ì¢…ë£Œí•˜ê³  ë‹¤ì‹œ ì‹œì‘
// â†’ ëª¨ë“  ì´ì „ í™”ë©´ ê¸°ë¡ ì‚­ì œ
```

---

## MainActivityNew.java

### ìƒì† êµ¬ì¡° ì½”ë“œ (ì£¼ì„ í¬í•¨)

```java
/**
 * Single Activity + Fragment íŒ¨í„´ì˜ ë©”ì¸ ì»¨í…Œì´ë„ˆ Activity
 */
// â­ ì¤‘ìš”: BaseActivityë¥¼ ìƒì†ë°›ìŠµë‹ˆë‹¤!
//
// ìƒì†ì´ë€?
// - ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ìì‹ í´ë˜ìŠ¤ê°€ ë¬¼ë ¤ë°›ëŠ” ê²ƒ
//
// BaseActivityê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥:
// 1. onCreate(): í™”ë©´ ìƒì„± ì‹œ ìƒ‰ì•½ ëª¨ë“œ í™•ì¸
// 2. onResume(): í™”ë©´ í‘œì‹œ ì‹œ ìƒ‰ì•½ ëª¨ë“œ í™•ì¸
// 3. applyAccessibilitySettings(): ìƒ‰ì•½ ëª¨ë“œ ì ìš©/í•´ì œ
// 4. applyGrayscaleFilter(): í‘ë°± í•„í„° ì ìš©
// 5. removeGrayscaleFilter(): í‘ë°± í•„í„° ì œê±°
//
// ê²°ê³¼:
// â†’ MainActivityNewëŠ” ìë™ìœ¼ë¡œ ìƒ‰ì•½ ëª¨ë“œë¥¼ ì§€ì›í•©ë‹ˆë‹¤!
public class MainActivityNew extends BaseActivity {
    // ... ë‚˜ë¨¸ì§€ ì½”ë“œ ...
}
```

### ìƒì†ì˜ ì´ì 

```java
// âŒ ìƒì†ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´:
public class MainActivity extends AppCompatActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // ìƒ‰ì•½ ëª¨ë“œ ì½”ë“œë¥¼ ì§ì ‘ ì‘ì„±í•´ì•¼ í•¨
        SharedPreferences prefs = getSharedPreferences(...);
        if (prefs.getBoolean("color_blind_mode", false)) {
            ColorMatrix colorMatrix = new ColorMatrix();
            colorMatrix.setSaturation(0);
            // ... ëª¨ë“  ì½”ë“œ ë°˜ë³µ ...
        }
    }
}

// âœ… ìƒì†ì„ ì‚¬ìš©í•˜ë©´:
public class MainActivity extends BaseActivity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // ë! BaseActivityê°€ ì•Œì•„ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤
        // ìƒ‰ì•½ ëª¨ë“œ ì½”ë“œë¥¼ ì‘ì„±í•  í•„ìš” ì—†ìŒ
    }
}
```

**ì¥ì :**
1. ì½”ë“œ ì¤‘ë³µ ì œê±°
2. ìœ ì§€ë³´ìˆ˜ ìš©ì´ (í•œ ê³³ë§Œ ìˆ˜ì •í•˜ë©´ ë¨)
3. ìƒˆë¡œìš´ Activity ì¶”ê°€ ì‹œ ìë™ ì ìš©
4. ë²„ê·¸ ìˆ˜ì •ì´ ê°„ë‹¨í•¨

---

## ì½”ë“œ ì‹¤í–‰ íë¦„

### ì „ì²´ í”„ë¡œì„¸ìŠ¤

```
ì‚¬ìš©ì í–‰ë™ â†’ ì½”ë“œ ì‹¤í–‰ â†’ ê²°ê³¼
```

#### 1ë‹¨ê³„: ìƒ‰ì•½ ëª¨ë“œ ì¼œê¸°

```
[UserProfileFragment.java]

1. ì‚¬ìš©ìê°€ "ì¥ì• í•™ìƒ ë°°ë ¤ ëª¨ë“œ" ë²„íŠ¼ í´ë¦­
   â†“
2. showAccessibilityOptionsDialog() ë©”ì„œë“œ ì‹¤í–‰
   â†“
3. AlertDialogê°€ í™”ë©´ì— í‘œì‹œë¨
   â†“
4. ì‚¬ìš©ìê°€ "ìƒ‰ì•½ ì „ìš© ëª¨ë“œ" ì²´í¬ë°•ìŠ¤ ì„ íƒ
   â†“
5. "ì ìš©" ë²„íŠ¼ í´ë¦­
   â†“
6. SharedPreferencesì— ì €ì¥:
   { "color_blind_mode": true }
   â†“
7. restartApp() ë©”ì„œë“œ ì‹¤í–‰
   â†“
8. ì•±ì´ ì™„ì „íˆ ì¢…ë£Œë˜ê³  ì¬ì‹œì‘ë¨
```

#### 2ë‹¨ê³„: ì•± ì¬ì‹œì‘ ì‹œ ìƒ‰ì•½ ëª¨ë“œ ì ìš©

```
[MainActivityNew.java â†’ BaseActivity.java]

1. MainActivityNewê°€ ìƒì„±ë¨
   â†“
2. onCreate() ë©”ì„œë“œ ìë™ í˜¸ì¶œ
   (BaseActivityì˜ onCreate)
   â†“
3. applyAccessibilitySettings() ì‹¤í–‰
   â†“
4. SharedPreferencesì—ì„œ "color_blind_mode" ì½ê¸°
   â†’ true ë°œê²¬!
   â†“
5. applyGrayscaleFilter() ì‹¤í–‰
   â†“
6. ColorMatrix ìƒì„±
   colorMatrix.setSaturation(0)
   â†“
7. ColorMatrixColorFilter ìƒì„±
   â†“
8. Paintì— í•„í„° ì ìš©
   â†“
9. DecorViewì— Paint ì ìš©
   â†“
10. í™”ë©´ì´ í‘ë°±ìœ¼ë¡œ í‘œì‹œë¨! âœ¨
```

#### 3ë‹¨ê³„: ë‹¤ë¥¸ í™”ë©´ìœ¼ë¡œ ì´ë™

```
[BaseActivity.java]

1. ìƒˆë¡œìš´ Activity ì‹œì‘ë¨
   (ì˜ˆ: GraduationAnalysisActivity)
   â†“
2. ì´ Activityë„ BaseActivityë¥¼ ìƒì†ë°›ìŒ
   â†“
3. onCreate() ìë™ í˜¸ì¶œ
   â†“
4. applyAccessibilitySettings() ì‹¤í–‰
   â†“
5. "color_blind_mode"ê°€ ì—¬ì „íˆ true
   â†“
6. í‘ë°± í•„í„° ìë™ ì ìš©
   â†“
7. ì´ í™”ë©´ë„ í‘ë°±ìœ¼ë¡œ í‘œì‹œë¨! âœ¨
```

#### 4ë‹¨ê³„: ìƒ‰ì•½ ëª¨ë“œ ë„ê¸°

```
[UserProfileFragment.java]

1. ì‚¬ìš©ìê°€ ë‹¤ì‹œ "ì¥ì• í•™ìƒ ë°°ë ¤ ëª¨ë“œ" í´ë¦­
   â†“
2. ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ "ìƒ‰ì•½ ì „ìš© ëª¨ë“œ" ì²´í¬ í•´ì œ
   â†“
3. "ì ìš©" ë²„íŠ¼ í´ë¦­
   â†“
4. SharedPreferencesì— ì €ì¥:
   { "color_blind_mode": false }
   â†“
5. ì•± ì¬ì‹œì‘
   â†“

[BaseActivity.java]

6. onCreate() ì‹¤í–‰
   â†“
7. "color_blind_mode"ê°€ false
   â†“
8. removeGrayscaleFilter() ì‹¤í–‰
   â†“
9. decorView.setLayerType(LAYER_TYPE_NONE, null)
   â†“
10. ì›ë˜ ìƒ‰ìƒìœ¼ë¡œ ë³µì›! ğŸ¨
```

### íƒ€ì´ë° ë‹¤ì´ì–´ê·¸ë¨

```
ì‹œê°„ â†’

ì‚¬ìš©ì: [ë²„íŠ¼ í´ë¦­] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’
           â†“
UI:     [ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ] â”€â†’ [ì²´í¬ë°•ìŠ¤ ì„ íƒ] â”€â†’ [ì ìš© í´ë¦­]
           â†“                                      â†“
ì €ì¥:                                   [SharedPreferences ì €ì¥]
                                               â†“
ì¬ì‹œì‘:                                      [ì•± ì¬ì‹œì‘]
                                               â†“
Activity:                            [MainActivityNew ìƒì„±]
                                               â†“
                                        [BaseActivity.onCreate]
                                               â†“
                                    [applyAccessibilitySettings]
                                               â†“
                                      [applyGrayscaleFilter]
                                               â†“
í™”ë©´:                                       [í‘ë°± í‘œì‹œ]
```

---

## ğŸ’¡ í•™ìŠµ í¬ì¸íŠ¸

### 1. ì™œ ì´ë ‡ê²Œ ì„¤ê³„í–ˆë‚˜ìš”?

**ë¶„ë¦¬ëœ ì±…ì„ (Separation of Concerns)**
```
BaseActivity: ìƒ‰ì•½ ëª¨ë“œ ê¸°ëŠ¥ ë‹´ë‹¹
UserProfileFragment: ì‚¬ìš©ì ì„¤ì • ë‹´ë‹¹
MainActivityNew: í™”ë©´ êµ¬ì„± ë‹´ë‹¹

â†’ ê°ì í•˜ë‚˜ì˜ ì—­í• ë§Œ ìˆ˜í–‰
â†’ ì½”ë“œê°€ ê¹”ë”í•˜ê³  ì´í•´í•˜ê¸° ì‰¬ì›€
```

**ì¬ì‚¬ìš©ì„± (Reusability)**
```
BaseActivityë¥¼ í•œ ë²ˆ ë§Œë“¤ë©´
â†’ ëª¨ë“  Activityì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥
â†’ ì½”ë“œ ì¤‘ë³µ ì œê±°
```

**í™•ì¥ì„± (Extensibility)**
```
ë‚˜ì¤‘ì— ë‹¤ë¥¸ ì ‘ê·¼ì„± ê¸°ëŠ¥ ì¶”ê°€?
â†’ BaseActivityë§Œ ìˆ˜ì •í•˜ë©´ ë¨
â†’ ëª¨ë“  í™”ë©´ì— ìë™ ì ìš©
```

### 2. í•µì‹¬ ê°œë… ì •ë¦¬

**ìƒì† (Inheritance)**
- ë¶€ëª¨ì˜ ê¸°ëŠ¥ì„ ìì‹ì´ ë¬¼ë ¤ë°›ìŒ
- ì½”ë“œ ì¬ì‚¬ìš©ì˜ í•µì‹¬

**ë‹¤í˜•ì„± (Polymorphism)**
- BaseActivity íƒ€ì…ìœ¼ë¡œ ëª¨ë“  ìì‹ Activityë¥¼ ë‹¤ë£° ìˆ˜ ìˆìŒ
- ì¼ê´€ëœ ì¸í„°í˜ì´ìŠ¤ ì œê³µ

**ìº¡ìŠí™” (Encapsulation)**
- ìƒ‰ì•½ ëª¨ë“œ ë¡œì§ì„ BaseActivity ì•ˆì— ìˆ¨ê¹€
- ì™¸ë¶€ì—ì„œëŠ” ì‚¬ìš©ë§Œ í•˜ë©´ ë¨

---

## ğŸ” ë””ë²„ê¹… ê°€ì´ë“œ

### ë¬¸ì œ: ìƒ‰ì•½ ëª¨ë“œê°€ ì‘ë™í•˜ì§€ ì•Šì•„ìš”

**ì²´í¬ë¦¬ìŠ¤íŠ¸:**

1. Activityê°€ BaseActivityë¥¼ ìƒì†ë°›ì•˜ëŠ”ì§€ í™•ì¸
```java
// âœ… ì˜¬ë°”ë¦„
public class MyActivity extends BaseActivity

// âŒ í‹€ë¦¼
public class MyActivity extends AppCompatActivity
```

2. SharedPreferences í‚¤ ì´ë¦„ í™•ì¸
```java
// ì €ì¥í•  ë•Œ
editor.putBoolean("color_blind_mode", true);

// ì½ì„ ë•Œ
prefs.getBoolean("color_blind_mode", false);

// âš ï¸ í‚¤ ì´ë¦„ì´ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤!
```

3. apply() í˜¸ì¶œ í™•ì¸
```java
editor.putBoolean("color_blind_mode", true);
editor.apply(); // âœ… ì´ê±¸ ê¼­ í˜¸ì¶œí•´ì•¼ ì €ì¥ë©ë‹ˆë‹¤!
```

### ë¬¸ì œ: ì¼ë¶€ í™”ë©´ë§Œ í‘ë°±ì´ ì•ˆë¼ìš”

**ì›ì¸:**
í•´ë‹¹ Activityê°€ BaseActivityë¥¼ ìƒì†ë°›ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**í•´ê²°:**
```java
// 1. Activity ì°¾ê¸°
find . -name "*Activity.java"

// 2. extends í™•ì¸
grep "extends AppCompatActivity" *.java

// 3. BaseActivityë¡œ ë³€ê²½
extends AppCompatActivity â†’ extends BaseActivity
```

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-13
**ë¬¸ì„œ ë²„ì „**: 1.0
**ê´€ë ¨ íŒŒì¼**:
- BaseActivity.java
- UserProfileFragment.java
- MainActivityNew.java
